# Web Accessibility

| *Table of Contents* |||
--- | --- | ---
[Overview](#overview) |   |
[AODA Enforcement](#aoda-enforcement) |   |
[About WCAG 2-1](#about-wcag-21) |   |
[Tools](#tools) |   |
[Non-text Content](#non-text-content) | Guideline 1.1.1 | Level A
[Provide synchronized alternatives for multimedia](#provide-synchronized-alternatives-for-multimedia) | Guideline 1.2 | Level A
[Adaptable](#adaptable) | Guideline 1.3 | Level A
[Use of Color](#use-of-color) | Guideline 1.4.1 | Level A
[Audio Control](#audio-control) | Guideline 1.4.2 | Level A
[Minimum Contrast](#minimum-contrast) | Guideline 1.4.3 | Level AA
[Resize Text](#resize-text) | Guideline 1.4.4 | Level AA
[Images of Text](#images-of-text) | Guideline 1.4.5 | Level AA
[Keyboard Accessible](#keyboard) | Guideline 2.1 | Level A
[Timing Adjustable](#timing-adjustable) | Guideline 2.2.1 | Level A
[Pause Stop Hide](#pause-stop-hide) | Guideline 2.2.2 | Level A
[Three Flashes or Below Threshold](#three-flashes-or-below-threshold) | Guideline 2.3.1 | Level A
[Bypass Blocks](#bypass-blocks) | Guideline 2.4.1 | Level A
[Page Titled](#page-titled) | Guideline 2.4.2 | Level A
[Focus Order](#focus-order) | Guideline 2.4.3 | Level A
[Link Purpose In Context](#link-purpose-in-context) | Guideline 2.4.4 | Level A
[Multiple ways](#multiple-ways) | Guideline 2.4.5 | Level AA
[Headings and Labels](#headings-and-labels) | Guideline 2.4.6 | Level AA
[Language of Page](#language-of-page) | Guideline 3.1.1 | Level A
[Language of Parts](#language-of-parts) | Guideline 3.1.2 | Level AA
[On Focus](#on-focus) | Guideline 3.2.1 | Level A
[On Input](#on-input) | Guideline 3.2.2 | Level A
[Consistent Navigation](#consistent-navigation) | Guideline 3.2.3 | Level AA
[Consistent Identification](#consistent-identification) | Guideline 3.2.4 | Level AA
[Error Identification](#error-identification) | Guideline 3.3.1 | Level A
[Labels or Instructions](#labels-or-instructions) | Guideline 3.3.2 | Level A
[Error Suggestion](#error-suggestion) | Guideline 3.3.3 | Level AA
[Error Prevention - Legal Financial Data](#error-prevention-legal-financial-data) | Guideline 3.3.4 | Level AA
[Parsing](#parsing) | Guideline 4.1.1 | Level A
[Name Role Value](#name-role-value) | Guideline 4.1.2 | Level A

## Overview

There are currently no federal laws in Canada pertaining to web content accessibility. With the exception of Ontario, none of the provinces have web content accessibility laws. Any company conducting business in Ontario will need to be compliant with the **Accessibility for Ontarians with Disabilities Act (AODA)**.

The AODA is not a unique set of guidelines, it references the W3C's **Web Content Accessibility Guidelines (WCAG 2.0)**. The WCAG 2.0 guidelines feature three levels of compliance: A, AA and AAA. The AODA requires full compliance with Level A, partial compliance with Level AA (all except for 2 guidelines: 1.2.4 and 1.2.5), and does not require compliance with Level AAA. This document includes information for AODA compliance.

## AODA Enforcement

Organizations are required to provide a compliance report to the AODA. The AODA may audit the organization, and may issue a compliance plan. The AODA also performs annual "blitz audits", where they focus on auditing organizations within a specific sector.

Non-compliance fines can range from \$500 - \$100,000 per day. The AODA doesn't clearly describe how penalties are determined. There isn't information
on the fines that have been levied against organizations to date.

In 2016, 361 organizations were audited, of which 164 were issued compliance plans showing steps they must take become compliant. Of the 1,604 compliance activities that took place in 2016, 38 were sent to an inspector with only 2 requiring monetary penalties. The penalty amounts were not shared.

Organizations audited are given a compliance plan with a deadline for becoming compliant.

#### External Links
- [WCAG 2.0 Guidelines](https://www.w3.org/TR/WCAG20/)
- [Government of Ontario's Accessibility Laws](https://www.ontario.ca/page/accessibility-laws)
- [AODA Web site](http://www.aoda.ca/wcag/category/all-guidelines/)
- [In-depth and filterable reference to WCAG 2.0 compliance techniques and failures](https://www.w3.org/WAI/WCAG20/quickref/)

[Back to Table of Contents](#web-accessibility)

## About WCAG 2.1

The W3C is currently working on WCAG 2.1, which includes enhancements to WCAG 2.0 that are intended to provide updates to the specification while the more comprehensive WCAG 3.0 guidelines are being developed. There is no ETA for WCAG 2.1, but we will need to be compliant when the new guidelines are published. Here is a list of the new items currently under consideration for WCAG 2.1 Levels A and AA.

- Only 1 axis of scrolling at 320px width or height, with a few special exceptions
- Contrast ratio of 4.5:1 for adjacent colours
- Contrast ratio of 3:1 for objects with min width/height of 3px
- Contrast ratio of 4.5:1 for essential UI components, not applicable to disabled/inactive UI components
- No Loss of content if user increases font size x1.5, space under paragraphs to 2x the font size, letter-spacing to .12x the font size, word-spacing to .16x the font size
- Keyboard shortcuts set by the content must allow to be disabled or remapped
- Content cannot be locked to a specific display orientation, except where it is essential
- Accessible names for controls must match a visible label
- Activation of events must be reversible
- Feedback must be shown for user-triggered changes

[WCAG 2.1 Guidelines](https://www.w3.org/TR/WCAG21/) (external link)

[Back to Table of Contents](#web-accessibility)

## Tools

### Browser Extensions

- [WAVE](https://chrome.google.com/webstore/detail/wave-evaluation-tool/jbbplnpkjmmeebjpijfedlgcdilocofh?utm_source=chrome-app-launcher-info-dialog)
- [WCAG Luminosity Contrast Ratio Analyzer](https://chrome.google.com/webstore/detail/wcag-luminosity-contrast/lllpnmpooomecmbmijbmbikaacgfdagi?utm_source=chrome-app-launcher-info-dialog)
- [ChromeVox](https://chrome.google.com/webstore/detail/chromevox/kgejglhpjiefppelpmljglcjbhoiplfn?utm_source=chrome-app-launcher-info-dialog)

### Web-based Tools

- [WebAIM Color Contrast Checker](http://webaim.org/resources/contrastchecker/)
- [Achecker](https://achecker.ca/checker/index.php)
- [A-Tester](http://www.evaluera.co.uk/)
- [W3C Markup Validation Service](https://validator.w3.org/)

### Screen Readers

- [Jaws](https://www.freedomscientific.com/Downloads/JAWS)
- [NVDA](https://www.nvaccess.org/download/) (free)
- [VoiceOver](https://www.apple.com/ca/accessibility/mac/vision/) (Mac OS)

[Back to Table of Contents](#web-accessibility)

## Non-text Content
### Guideline 1.1.1, Level A

All non-text content that is presented to the user has a text alternative that serves the equivalent purpose.

- Ornamental images must be ignored by screen readers, including icons that have a visible text label. Include a blank ALT attribute ([See Fig. 1](#figure-1-ornamental-image)). Do not include a title attribute for images that should be ignored by assistive technology
- Use CSS for show decorative images when possible
- Provide descriptions for non-text content, like image-based submit buttons ([See Fig. 2](#figure-2-image-as-submit-button)), animations, stand-alone icons ([See Fig. 3](#figure-3-image-based-icon)), photos ([See Fig. 4](#figure-4-photo)), inline SVG's ([See Fig. 5](figure-5-inline-svg)), etc.
- Include alt text for photos that describes the contents of the photo. It must provide the same information that the image would if seen. It is okay for the alt text to be succinct ([See Fig. 4](#figure-4-photo))
- Add a title attribute to all form controls where a label cannot be used ([See Fig. 6](#figure-6-title-attribute-on-form-elements))
- Logo images should include alt text that states the company name, and preferably any tagline or other text displayed in the logo image
- Images that contain only text should have alt text that contains the exact text that is in the image
- Only use Captcha's that have an audio alternative
- Do not use Silverlight, Flash or Java applets
- Avoid using image maps. Include alt text for each defined area of an image map
- In PDF documents, use the artifact tag to hide decorative images, use the alt tag to provide text alternative to images
- If using the VIDEO element, do not have a sibling link immediately following it unless that link is for a transcript

#### NOTES

- Is C21 going to use Captchas?
- Need to investigate how this affects virtual tour or other VR content
- Subdomain logos

###### Figure 1 - Ornamental image
```html
<img src="/path/image-name.jpg" alt="">
```

###### Figure 2 - Image as submit button
```html
<input type="image" name="submitbutton" alt="Search" src="/path/submit.png">
```

###### Figure 3 - Image-based icon
```html
<img src="/path/search-icon.png" alt="Search">
```

###### Figure 4 - Photo
```html
<img src="/path/photo.jpg" alt="Photo depicting a vacationing family frolicking on a beach">
```

###### Figure 5 - Inline SVG
```css
.nvda-text {
	font-size: 0;
}
```
```html
<svg version="1" id="svgId" aria-labelledby="svgTitle svgDesc" role="img">
  <title id="svgTitle">A (short) title for the image</title>
  <desc id="svgDesc">A (longer) description for the image if necessary</desc>
  <text id="nvda-title" class="nvda-text">A description for the NVDA screen reader</text>
  <path id="svgPath" data-name=""/>
</svg>
```

###### Figure 6 - Title attribute on form elements
```html
<input id="listingSearch" type="text" name="search" title="Search for Listings">
```

[Back to Table of Contents](#web-accessibility)

## Provide synchronized alternatives for multimedia
### Guideline 1.2

#### This section covers the following WCAG 2.0 Guidelines:

- Guideline 1.2.1, Level A: Audio-only and Video-only
  - Avoid this kind of content. If it is added, we need to include text transcripts for either audio-only or video-only content that conveys all of the same information. Background video is considered decorative and would not require a transcript
- Guideline 1.2.2, Level A: Captions (Prerecorded)
  - All video with audio must include captions that are synchronized with the video
- Guideline 1.2.3, Level A: Audio Description or Media Alternative (Prerecorded)
  - All video with audio must include either text transcript OR audio description (AA compliance requires both, we are exempt)

#### The AODA does not include the following WCAG 2.0 Guidelines, so we don not need to support them:

- Guideline 1.2.4, Level AA: Captions (Live)
- Guideline 1.2.5, Level AA: Audio Description (Prerecorded)

[Back to Table of Contents](#web-accessibility)

## Adaptable
### Guideline 1.3, Level A

#### This section covers the following WCAG 2.0 Guidelines:

- Guideline 1.3.1, Level A: Info and Relationships
- Guideline 1.3.2, Level A: Meaningful Sequence
- Guideline 1.3.3, Level A: Sensory Characteristics

### Guideline 1.3.1, Level A: Info and Relationships
- Do not use white space characters for formatting (columns, tables)
- Do not add scripted event handling to non-link elements so they function like links, such as putting onClick on IMG or SPAN
- Do not use :before or :after pseudo-elements for non-decorative content
- Use semantic mark-up: break up content with subheadings for new sections, using header tags, use correct HTML for all elements, use valid HTML, and clear labels on forms
- Use H1-H6 for headings, do not use CSS on elements such as DIV, P or IMG to mimic a heading
- Don't misuse elements for presentational effects. Examples would be using H1-H6 to emphasize text, or using BLOCKQUOTE to indent or otherwise emphasize text that is not a quotation.
- Use B, I, STRONG or EM for emphasizing text instead of using CSS classes on elements such as DIV, P or SPAN
- The TABLE element needs to have TH elements for the top row. Do not use TD for TABLE headers

### Guideline 1.3.2, Level A: Meaningful Sequence
- Present content in a meaningful order, and separate navigation menus from content. Use headings to show importance and show paragraphs in order, use bulleted or numbered lists appropriately, and use valid HTML. Ensure content displays in the correct order with the CSS disabled
- The BODY element must contain one MAIN element, which will wrap the main content of the page. Ideally, the "skip-nav" option should target the content at the top of the MAIN element
- Do not use CSS to arrange content in an order that differs from the mark-up. An example would be using position to move navigation elements into different locations

### Guideline 1.3.3, Level A: Sensory Characteristics
- Perception of size, sound or colour are not required to understand the meaning of content
- Don't identify content only by its shape or location. Example: "Press the button to the left to go to the previous page."
- Use clear visual cues for form errors
- Provide meaningful instructions, be as verbose as necessary. Short instructional text is not always helpful. "Search by using the rectangle box at the very top right of this page" is better than "Use the search box"
- Do not use images alone to convey information. An example would be an "X" symbol on an overlay, or a star or heart icon to indicate an item is saved as a favourite.

[Back to Table of Contents](#web-accessibility)

## Use of Color
### Guideline 1.4.1, Level A

- Do not rely on colour alone to convey meaning, such as red for errors, or gray for format hints. Do not use colour alone in charts and graphs. Include the relevant data with the legend associated with a chart
- Do not say things like, "Click the green button" or "Required fields are red", use at least one more identifying remark
- Body text links should be underlined so they can be most easily distinguished from surrounding text. If underlining is removed, there must be a minimum contrast ratio of 3:1 between the link text and the surrounding text. It's safer to leave the underlining on body text links, as it's challenging to find a link colour that sufficient contrast between surrounding text AND the background.
- When using a CSS hover effect on text links, apply the effect using :focus as well.

NOTE: Check traffic reports to see if they're using images only

[Back to Table of Contents](#web-accessibility)

## Audio Control
### Guideline 1.4.2, Level A

- We should ever have audio play automatically. The rule is that if audio is more than 3 seconds we must provide a mechanism to pause/stop the audio, or to control the volume.

[Back to Table of Contents](#web-accessibility)

## Minimum Contrast
### Guideline 1.4.3, Level AA

- This refers to the contrast between foreground (text, small icons) and background colours. Smaller items require a higher contrast ratio than larger items. Use a tester to ensure our colour combinations are AA compliant, such as [this one from WebAIM](http://webaim.org/resources/contrastchecker/)
- Incidental text (street sign in a photo) and brand logos are exempt
- Specify a background color with sufficient contrast whenever showing information with a background image

[Back to Table of Contents](#web-accessibility)

## Resize Text
### Guideline 1.4.4, Level AA

Text can be resized to 200% without loss of content or function. If the site doesn't resize correctly to at least 200% in a browser, add a feature that lets users resize text based on predetermined options (one option must be 200%).

Ensure the properly META settings are applied for viewport, content and initial-scale:
```html
<meta name="viewport" content="width=device-width, initial-scale=1.0">
```
Do NOT set a maximum scale or set user-scalable to no:
```html
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scaleable=no">
```

[Back to Table of Contents](#web-accessibility)

## Images of Text
### Guideline 1.4.5, Level AA

No images of text when plain text can be used. Do not show headings or navigation menus as images.

[Back to Table of Contents](#web-accessibility)

## Keyboard Accessible

#### This section covers the following WCAG 2.0 Guidelines:

- Guideline 2.1.1, Level A: Keyboard
- Guideline 2.1.2, Level A: No Keyboard Trap

### Guideline 2.1.1, Level A: Keyboard
- Must be fully useable with only a keyboard
- Do not require timed keystrokes, like double-tap enter or time-limits for submit
- Do not set custom keyboard shortcuts, avoid access keys entirely
- Ensure that JavaScript event handlers permit keyboard access

### Guideline 2.1.2, Level A: No Keyboard Trap
- Users must be able to navigate to, and AWAY from any part of the site. Do not include overlays or other features that users cannot escape with a keyboard alone. If a user can reach something via keyboard like a registration form, but can't escape it by keyboard, they are trapped
- Beware of 3rd party tools, as these are often not keyboard accessible

[Back to Table of Contents](#web-accessibility)

## Timing Adjustable
### Guideline 2.2.1, Level A

- Give a generous amount of time before a session times out, to allow any user to complete a task
- Avoid moving/animated text for conveying information (does not apply to animated transition effects). If including timed or animated content, users must be provided with the ability to pause the movement or to extend the time limits (both before it begins and at least 20 seconds before the time expires to at least 10x the default)
- Users must be able to delay the frequency for automatically updated content by 10x
- Do not use META redirect with a time greater than zero
- Do not use META refresh to reload the page
- Do not use server side techniques to automatically redirect pages after a time-out

[Back to Table of Contents](#web-accessibility)

## Pause Stop Hide
### Guideline 2.2.2, Level A

Moving, blinking or scrolling content must have an option to pause, stop or hide it. This would apply to background video, but not to a loading animation.

[Back to Table of Contents](#web-accessibility)

## Three Flashes or Below Threshold
### Guideline 2.3.1, Level A

No rapid flashing/blinking elements. **No exceptions.**

[Back to Table of Contents](#web-accessibility)

## Bypass Blocks
### Guideline 2.4.1, Level A

- Add a skip-to menu to the top of the page, to allow users to bypass the global navigation/header and go straight to the content on the page
- Provide a way for users to skip over blocks of content repeated on every page
- Provide a way for users to skip over a large block of content

NOTE: [Paypal has a solution that is free to use.](https://github.com/paypal/skipto)


[Back to Table of Contents](#web-accessibility)

## Page Titled
### Guideline 2.4.2, Level A

Every page should have a unique and descriptive title, such as "Page name - Page description - Website name".

NOTE: SEO will need to be aware of this.

[Back to Table of Contents](#web-accessibility)

## Focus Order
### Guideline 2.4.3, Level A

- We should leave this alone provided the default tab order on a page is logical. If the tab sequence is confusing, we will need to set it to a logical order
- Avoid focus order that takes the user someplace unexpected or to where they cannot easily find the content surrounding the interactive element, such as when the user is viewing the site with a high level of magnification. Dialogs or menus should be adjacent to their trigger control in the sequential navigation order

[Back to Table of Contents](#web-accessibility)

## Link Purpose In Context
### Guideline 2.4.4, Level A

- The purpose of a link should always be clear. Ideally, the link text is clear enough to be self-evident. If not, the text surrounding the link (leading up to it) needs to quickly convey the link's purpose
- When the link is an image, the alt text must convey the link's purpose as well as explaining any other meaning in the image
- Avoid terse or vague link text, such as: Click here, here, more, read more, info
- It's best to avoid having links open a new window/tab. Links that open in a new window need to include a title that informs the user of this behaviour. This should also include a description of the destination for the link, i.e.; Product Details - opens new window. ([See Fig. 7](#figure-7-links-to-new-window))
- Do not show the URL as the link text.
- Make it obvious if a link is pointing to a non-HTML resource, such as a PDF file. This could be accomplished by mentioning the file type in parenthesis in the link text. It is better to include this inside the link text, rather than adjacent to it. ([See Fig. 8](#figure-8-links-to-files))

NOTE: SEO will need to be aware of this.

###### Figure 7 - Links to New Window
```html
<a href="path/file.html" target="_blank" title="Product details - opens new window">Link text</a>
```

###### Figure 8 - Links to Files
```html
<a href="path/file.pdf">Link text (PDF)</a>
```

[Back to Table of Contents](#web-accessibility)

## Multiple ways
### Guideline 2.4.5, Level AA

- In addition to primary navigation, add a sitemap option with the skip-to link, or a global search option
- Provide a table of contents for lengthy pages
- Include bookmarks in PDF documents

[Back to Table of Contents](#web-accessibility)

## Headings and Labels
### Guideline 2.4.6, Level AA

- Use informative headings and subheadings
- Label all elements (sidebar widgets, forms, search boxes, tables, etc)

[Back to Table of Contents](#web-accessibility)

## Language of Page
### Guideline 3.1.1, Level A

Always ensure the language for a page is set, do not use META or HTTP for this, place in the HTML element ([See Fig. 9](#figure-9-language)).

[HTML ISO Language Code Reference](https://www.w3schools.com/tags/ref_language_codes.asp)

###### Figure 9 - Language
```html
<html lang="fr">
```

[Back to Table of Contents](#web-accessibility)

## Language of Parts
### Guideline 3.1.2, Level AA

- Add a language attribute to content that is not in the main language, except for single words, such as "rendezvous"
- Specifiy the language for a passage or phrase iwth the Lang entry in PDFs


[Back to Table of Contents](#web-accessibility)

## On Focus
### Guideline 3.2.1, Level A

- Do not move focus from one field to another automatically
- Do not open a new window as soon as a new page is loaded
- Do not use scripts to remove focus when focus is received

[Back to Table of Contents](#web-accessibility)

## On Input
### Guideline 3.2.2, Level A

- Do not auto-submit forms when all fields are filled
- A checkbox or radio button must not submit a form when clicked, the user must be able to click a submit button to confirm their decision
- Do not launch a new window without prior warning due to the selection of a radio button or checkbox

[Back to Table of Contents](#web-accessibility)

## Consistent Navigation
#### Guideline 3.2.3, Level AA

Keep the navigation in the same location and with the same menu items on all pages. Keep all other standard elements (such as a search box) in the same location on all pages.

[Back to Table of Contents](#web-accessibility)

## Consistent Identification
### Guideline 3.2.4, Level AA

- Use consistency with text labels and iconography across the site. The consistency must apply to alternate text as well
- Keep terminology consistent. An example might be a link that says, "View more listing details" which points to a page titled "Listing Details" and not a page titled "Listing Information". Another example might be a search bar on the page with a button labeled "Search", and a search bar on sub-pages with the button labeled "Find"

[Back to Table of Contents](#web-accessibility)

## Error Identification
### Guideline 3.3.1, Level A

It must be obvious that an error occurred, what caused the error, and what the user needs to do address the error. The explanation should be in close proximity to the error.

NOTE: Make icons for each error.

[Back to Table of Contents](#web-accessibility)

## Labels or Instructions
### Guideline 3.3.2, Level A

- Provide clear and helpful labels for fields
- Provide format hints wherever a specific format is required
- Labels must be in close proximity to corresponding fields
- Clearly label required fields

NOTE: The descriptions for this WCAG guideline for required fields suggests using asterisks and a note at the top of the form, which is contradictory to the latest usability studies and UX trends. Instead, add text above the form that says "All fields are required except where noted as Optional", and add the word "Optional" to the text label for non-required fields.

[Back to Table of Contents](#web-accessibility)

## Error Suggestion
### Guideline 3.3.3, Level AA

Inform the user what caused the error (missed a required field, incorrect format, etc.), in text so they are able to rectify the error.

[Back to Table of Contents](#web-accessibility)

## Error Prevention - Legal Financial Data
### Guideline 3.3.4, Level AA

Ensure that changes to important, user-controlled data are reversible, or ensure that the data is checked for errors and the user is given the chance to correct mistakes, and display a confirmation page that summarizes what was entered and the outcome, with an option to correct or discontinue. This summary should have a button that confirms the submission.

NOTE: This requirement isn't applicable to us at the moment, but may become applicable if we add more complex forms, such as mortgage or home owners insurance applications.

[Back to Table of Contents](#web-accessibility)

## Parsing
### Guideline 4.1.1, Level A

Ensure properly formatted HTML, with unique IDs, no duplicate attributes, correct nesting, etc.

[Back to Table of Contents](#web-accessibility)

## Name, Role, Value
### Guideline 4.1.2, Level A

- Use labels with form fields
- Use title attribute on IFRAME and on form fields where LABEL can't be used
- Keep text alternatives updated when there are changes to non-text content
- Provide a role attribute when using DIV or SPAN as a UI control
- UI Controls must have a name attribute
- Provide names for each field in a multi-field group, such as 3 inputs for a phone number
- Provide an accessible name for an image when it is the only content in a link
- Focus state of a UI component must be programmatically determined and notification of change of focus state must be available

[Back to Table of Contents](#web-accessibility)
